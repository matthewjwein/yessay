extends ../../layouts/default

block main
  h1= essay.title
  h1 Reflect
  h3 Brainstorm Data:
    h4= essay.brainstorm
  h3 Description Data:
    h4= essay.description
  h3 Context Data:
    h4= essay.context
  hr

block content
  - var action = 'save'

  if (typeof errors !== 'undefined')
    .fade.in.alert.alert-block.alert-error
      a.close(data-dismiss="alert", href="javascript:void(0)") x
      ul
        each error in errors
          li= error.type
  .row
    .span7
      form(method="post", action=action, enctype="multipart/form-data")
        if (!essay.isNew)
          input(type="hidden", name="_method", value="PUT")
        .control-group
          label.control-label(for='context') Reflect:
          .controls
            textarea#reflect.input-xlarge(type='text', rows="5", name="reflection", placeholder='Reflect')=essay.reflection
        .form-actions
          button.btn.btn-primary(type='submit') Save & Continue
    .span5
      if (!essay.isNew && essay.image && essay.image.files && essay.image.files.length)
        img(src=essay.image.cdnUri + '/mini_' + essay.image.files[0])